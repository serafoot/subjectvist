---
title: "Subjective Probability for risk specialists!"
subtitle: ""
author: "Andrea Serafino"
institute: "QMA"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["robot","default-fonts"]
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
class: inverse, center, middle
background-image: url(https://image.cagle.com/213745/750/213745.png)
background-size: 250px
background-position: 90% 8%


```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```


# What is uncertainty?
--

<sup>1</sup>a situation in which something is not known. [Cambridge Dictionary]

---


# Type of uncertainty


--


.pull-left[
### Ontological view


Uncertainty is part of the world we observe.

### Epistemic view


Uncertainty is generated by our ignorance and limited knowledge.

]

.pull-right[

.right[![Right-aligned image](http://3.bp.blogspot.com/-XvglB4so2LI/VWlPcnjvGDI/AAAAAAAAAWo/Q2KKpi1jwzY/s1600/Themis.jpg)]

]

--

 >Probability is the measure of uncertainty

---

# How do we "think"?

--

### Deductive reasoning

It is the foundation of logical reasoning, we start with assumptions/theory and we derive consequences using some form of "calculus".

--

> All men are mortal,  
> Socrates is a man 
>              => Therefore, Socrates is mortal

--

### Inductive reasoning

It is the process of going from a specific case to a general statement. It is what we can broadly name: learning from evidence

--

> My neighbour told me that he  plays golf on Sunday
>             => Britons play golf on Sunday

--

#### we can use probability in both deductive and inductive reasoning
> but what is the meaning of a probability?

---


# What is Probability?


--

#### Frequentist Interpretation

The probability of an event is the limit of its relative frequency in an repeatable  experiment
> "The theory of probability can never lead to a definite statement concerning a single event." R Von Mises

--

#### Subjective Interpretation (Bayesian)

The probability of an event/proposition is the __coherent__ personal belief of the event being true conditional on the state of knowledge 
> "Probability does not exist." B De Finetti


---

# The power of frequency

Probabilities as frequencies is a very appealing concept because:

- a frequency transform an abstract concept into a 'physical' measure

- it is embedded in our instinctive approach to assess the likelihood of events

.pull-left[

.right[![Left-aligned image](http://toonclips.com/600/cartoon-business-man-flipping-a-coin-by-ron-leishman-6418.jpg)]

]

--

but ...

- what do we do when we don't have frequencies? No frequency No probability.

- when we use inductive reasoning (i.e. data) is a frequentist interpretation our 'natural' way to think probabilities? 

--

__Do you really need a frequency to have a probability__?

---

# 1966 Football world cup final


--

.pull-left[

.right[![Left-aligned image](https://cdn.images.express.co.uk/img/dynamic/67/750x445/1292506.jpg)]

from Wikipedia:

The 1966 FIFA World Cup final was a football match played at Wembley Stadium in London on 30 July 1966 to determine the winner of the 1966 FIFA World Cup, the eighth FIFA World Cup. The match was contested by England and West Germany...

]

--
.pull-right[

>What is the probability of England winning 1966 men WC final?

> If I am telling you that the men WC winning frequency of England is 4% do you change your probability?

]

---

# Tour de France 2014 (from Wikipedia)

The 2014 Tour de France was the 101st edition of the race, one of cycling's Grand Tours. The 3,660.5-kilometre (2,274.5 mi) race included 21 stages, starting in Leeds, Yorkshire, United Kingdom, on 5 July and finishing on the Champs-Élysées in Paris on 27 July. 

#### What is the probability of a British cyclist winning Tour de France 2014?

--
According to many observers before the race the top two favourites for the general classification were Chris Froome (Team Sky) and Alberto Contador (Tinkoff–Saxo).


#### Did this information changed your probability?

---

# Tour de France 2014

.pull-left[
Then stage 5 happened!!!

.right[![Right-aligned image](https://upload.wikimedia.org/wikipedia/commons/e/e9/Peloton_TDF2014_Etape_5_Gruson_%28cropped%29.jpg)]
]
--
And unfortunately Chris Froome hates the Paris-Roubaix 

--
.pull-left[
.right[![Right-aligned image](https://i.ytimg.com/vi/OmIB3PXk2yw/maxresdefault.jpg)]
]


--
### what is your probability now?

--



![Center-aligned image](./Screenshot from 2024-01-23 10-21-30.png)






---
# The power of the subjective view


- The subjective view stress the connection between probability and knowledge/information. 

--
> That's a very powerful concept. 


--
It allows us to think and assess probabilities of:

1. events already happened but for which we don't know the outcome.

--
2. unique events.

--
3. when frequency contains too little information and we need to rely on our judgement.


--

### It is your "ignorance" that creates uncertainty (to you)!


---

# The objectivity smoke screen

A huge complain about subjective probability is its "subjectivity": if it is subjective then cannot be "scientific".

But that is probably a consequence of a negative meaning that we assign to something that is "subjective" as if it is arbitrary. 

But it is not.

First, you need coherence in your probability assessment.

Second, if you have the right incentives, you will try to use all the information and knowledge available to you to assess the probability as best as you can (even using a frequency if available). And you can use knowledge and information to explain your assessment.

Third, you need a mechanism to learn from evidence and improve your probabilities in a systematic and predictable way.


--
__Is a frequency really objective__?

---
# A deductive process example: tossing coins

## I am a frequentist:
I toss the coin 1000 times and I get 502 times tail and 498 times head $\implies$ The probability of tail is then 50% (0.5). What is the probability of obtaining 3 tails in 3 tosses: TTT

$$P(TTT| \theta = 0.5) = 0.5 \times 0.5 \times 0.5 = 0.125 $$

--
## I am a subjectivist:
I've just watched on youtube a documentary on the Royal Mint showing all the fantastic technology they have to create balanced coins $\implies$ The probability of tail is then 50% (0.5). What is the probability of obtaining 3 tails in 3 tosses: TTT

$$P(TTT| \theta = 0.5) = 0.5 \times 0.5 \times 0.5 = 0.125 $$

---

# Frequentist inductive process 

I toss the coin 3 times getting TTT, what is the probability that the coin is balanced? $P(\theta=.5 | TTT)$

--

The frequentist computes instead $P(TTT | \theta = 0.5)$. 

__BUT $P(\theta=.5 | TTT)$ and $P(TTT | \theta = 0.5)$ are two completely different things!!!__

--

Think about these events: 

1. The probability of taking an umbrella with you given that it is raining

2. The probability of raining given that you take an umbrella with you

The frequentist is not a incompetent, knows that these things are different.


---

# Frequentist inductive process 

In computing $P(TTT | \theta = 0.5)$, the frequentist says something along these lines: "if the true value of $\theta=0.5$ then the observed sample that contains TTT has  likelihood of 0.125 to be observed". 

A large majority of people (including professional statisticians) will confuse this sentence as "the probability of $\theta$ is 0.125 given that we have observed TTT"




Conclusion: the frequentist stops using probability calculus to learn from data and creates complex set of concepts to answer inductive questions. These complex concepts are not really intuitive and the majority of people will likely misinterpret them and/or be confused.



---

# Subjectivist inductive process 

.pull-left[

I toss the coin 3 times getting TTT, what is the probability that the coin is balanced? $P(\theta=.5 | TTT)$

Answer the question directly computing $P(\theta=.5 | TTT)$



Conclusion: subjectivist use the same rules for deductive and inductive reasoning and these rules are the one of probability calculus. __The output of the subjectivist analysis has a easy interpretation that is consistent with the intuition of the great majority of people.__


]

.pull-right[

```{r, echo=FALSE, message=FALSE, include=FALSE, cache=TRUE}
library(brms)
library(tidyverse)
bdata <- data.frame(y = c(1, 1, 1))
fit <- brm(
  data = bdata,
  family = bernoulli,
  y  ~ 0 + Intercept,
  prior = c(prior(normal(-0.400, 0.654),
                  coef = Intercept)),
  iter = 1000,
  refresh = 0
)
post <- posterior_samples(fit)
post %>% 
  mutate(p = exp(b_Intercept) / (1 + exp(b_Intercept))) -> post

```

```{r, echo=FALSE, dpi=40, fig.align='center'}
library(ggplot2)
ggplot(post, aes(p)) +
  geom_density() + theme_bw()


```
]

---

1. subjective probability is powerful! 

2. subjective probability is strictly connected with knowledge and information

3. subjective probability allows intuitive inductive reasoning (answer [interesting] question directly). __subjective probability does not warrant that the answer to the questions are of good quality!! i.e. if you build a bad model you get low quality answers__ 

4. subjective probability can use frequency argument to inform probability assessments without the cage where everything should be based on frequencies.

5. subjective probability is transparent, because force you to explain and motivate without using the 'objectivity' smoke screen.

---
# References

#### If you hate maths (but this is really a useful reading for everyone):

1. McGrayne, Sharon Bertsch. The Theory That Would Not Die: How Bayes' Rule Cracked the Enigma Code, Hunted Down Russian Submarines, & Emerged Triumphant from Two Centuries of Controversy. Yale University Press, 2011.

2. Spiegelhalter, David. The art of statistics: Learning from data. Penguin UK, 2019.


#### If little math is fine (but very little please):

3. Lindley, Dennis V. Understanding uncertainty. John Wiley & Sons, 2013.


#### If you are the $m\alpha2t\epsilon\mathbf{R}$ of math:

4. De Finetti, Bruno. Theory of probability: A critical introductory treatment. John Wiley & Sons, 2017.

5. Jaynes, Edwin T. Probability theory: The logic of science. Cambridge university press, 2003.


